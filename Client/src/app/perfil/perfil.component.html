<!-- IMAGEN SUPERIOR -->

<div class="wrapper">
  <div class="page-header page-header-xs" data-parallax="true" style="background-image: url('../assets/img/home.jpg');">
    <div class="filter"></div>
  </div>
  <div class="section profile-content">
    <div class="container">

      <!-- FOTO Y NOMBRE -->

      <div class="owner">
        <div class="avatar ">

          <img src="{{usuario.fotoPerfil}}" alt="Circle Image" class="img-circle img-responsive" style="width: 20vw">
          <div class="middle" (click)="abrirModalFoto(cargarFoto)">
            Cambiar Foto
          </div>
        </div>
        <div class="name">
          <h4 class="title">
            {{usuario.nombre}} {{usuario.apellido}}
            <br />
            <a href="/editar" class="btn btn-link link-rosa">Editar perfil</a>
          </h4>
        </div>
      </div>

      <!-- TABS -->


      <div class="nav-tabs-navigation">
        <div class="nav-tabs-wrapper">
          <tabset [justified]="true">

            <tab>
              <ng-template tabHeading>
                <span class="tab-link hover-rosa">Inicio</span>
              </ng-template>

              <p>
                <span class="link-rosa">Fecha De Nacimiento: </span>
                <span>{{usuario.fechaDeNacimiento | date:'dd-MM-yyyy'}}</span>
              </p>
              <br>
              <p>
                <span class="link-rosa">Email: </span>
                <span>{{usuario.email}}</span>
              </p>


            </tab>
            <tab disabled="true">
              <ng-template tabHeading>
                <span class="tab-link hover-rosa disabled">Viajes activos</span>
              </ng-template>

            </tab>
            <tab disabled="true">
              <ng-template tabHeading>
                <span class="tab-link hover-rosa disabled">Historial de viajes</span>
              </ng-template>

            </tab>

            <!-- INICIO VEHICULOS -->

            <tab>
              <ng-template tabHeading>
                <span class="tab-link hover-rosa">Mis vehiculos</span>
              </ng-template>

              <!-- TITULO VEHICULOS -->
              <span class="title">
                Mis vehiculos disponibles
                <button *ngIf="!mostrarFormularioVehiculos" class="btn btn-round btn-rosa" (click)="mostrarFormularioVehiculos = true">Agregar</button>
                <button *ngIf="mostrarFormularioVehiculos" class="btn btn-round btn-default" (click)="mostrarFormularioVehiculos = false">Ver vehiculos</button>
              </span>

              <!-- CUERPO VEHICULOS -->
              <span *ngIf="!mostrarFormularioVehiculos">

                <span *ngFor="let vehiculo of vehiculos">
                  <app-contenedorvehiculo [vehiculo]="vehiculo" (refresh)="getVehiculos()">
                  </app-contenedorvehiculo>
                </span>
                <span *ngIf="vehiculos.length === 0">
                  <h4 class="rosa">No tienes vehiculos registrados en el sistema.</h4>
                </span>
              </span>

              <span *ngIf="mostrarFormularioVehiculos">
                <app-formulariovehiculos (releaseControl)="ocultarFormVehiculos()">
                </app-formulariovehiculos>
              </span>

            </tab>

            <!-- FIN VEHICULOS -->

            <!-- INICIO TARJETAS -->

            <tab>
              <ng-template tabHeading>
                <span class="tab-link hover-rosa">Mis tarjetas</span>
              </ng-template>

              <!-- TITULO TARJETAS -->
              <span class="title">
                Mis tarjetas disponibles
                <button *ngIf="!mostrarFormularioTarjetas" class="btn btn-round btn-rosa" (click)="mostrarFormularioTarjetas = true">Agregar</button>
                <button *ngIf="mostrarFormularioTarjetas" class="btn btn-round btn-default" (click)="mostrarFormularioTarjetas = false">Ver vehiculos</button>
              </span>

              <!-- CUERPO TARJETAS -->
              <span *ngIf="!mostrarFormularioTarjetas">

                <span *ngFor="let tarjeta of tarjetas">
                  <app-contenedortarjeta [tarjeta]="tarjeta" (refresh)="getTarjetas()">
                  </app-contenedortarjeta>
                </span>
                <span *ngIf="tarjetas.length === 0">
                  <h4 class="rosa">No tienes tarjetas registradas en el sistema.</h4>
                </span>

              </span>

              <span *ngIf="mostrarFormularioTarjetas">
                <app-formulariotarjetas (releaseControl)="ocultarFormTarjetas()">
                </app-formulariotarjetas>
              </span>

            </tab>

            <!-- FIN TARJETAS -->

            <tab disabled="true">
              <ng-template tabHeading>
                <span class="tab-link hover-rosa disabled">Mi reputación</span>
              </ng-template>

            </tab>

          </tabset>


          <!-- <ngb-tabset [justify]="'center'">

            <ngb-tab title="Mis Datos">
              <ng-template ngbTabContent>

                <h6>Tarjetas Registradas</h6>
                <div class="row">
                  <div class="col-md-4 col-sm-2 ml-auto mr-auto">
                    <p>Número de Tarjeta: ********2345</p>
                    <p>Fecha de Vencimiento:</p>
                    <p>DNI titular:</p>
                    <p>Nombre del titular:</p>
                    <button type="button" class="btn btn-pink">Editar</button>
                    <button type="button" class="btn btn-rellenopink">Borrar</button>
                  </div>
                  <div class="col-md-4 col-sm-2 ml-auto mr-auto">
                    <p>Número de Tarjeta:</p>
                    <p>Fecha de Vencimiento:</p>

                    <p>DNI titular:</p>
                    <p>Nombre del titular:</p>
                    <button type="button" class="btn btn-pink">Editar</button>
                    <button type="button" class="btn btn-rellenopink">Borrar</button>
                  </div>
                  <div class="col-md-4 col-sm-2 ml-auto mr-auto">
                    <p>Número de Tarjeta:</p>
                    <p>Fecha de Vencimiento:</p>

                    <p>DNI titular:</p>
                    <p>Nombre del titular:</p>
                    <button type="button" class="btn btn-pink">Editar</button>
                    <button type="button" class="btn btn-rellenopink">Borrar</button>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab title="Mis vehículos">
              <ng-template ngbTabContent>
                <div class="row following" id="follows">
                  <div class="col-md-6 ml-auto mr-auto">
                    <ul class="list-unstyled follows">
                      <li>
                        <div class="row">
                          <div class="col-md-2 col-sm-2 ml-auto mr-auto">
                            <img src="../assets/img/faces/clem-onojeghuo-2.jpg" alt="Circle Image" class="img-circle img-no-padding img-responsive">
                          </div>
                          <div class="col-md-7 col-sm-4 ml-auto">
                            <h6>Fiat
                              <br/>
                              <small></small>
                            </h6>
                            <p>Modelo:Uno.</p>
                            <p>Cantidad de Plazas:4.</p>
                            <p>Patente: ATQ 567.</p>
                            <p>Color:Rojo.</p>
                            <p>Tipo De Vehiculo: auto.</p>
                          </div>
                          <div class="col-md-3 col-sm-2 ml-auto mr-auto">
                            <div>
                              <button type="button" class="btn btn-pink">Editar</button>
                            </div>
                            <br>
                            <div>
                              <button type="button" class="btn btn-rellenopink">Borrar</button>
                            </div>
                          </div>
                        </div>
                      </li>
                      <hr />
                      <li>
                        <div class="row">
                          <div class="col-md-2 col-sm-2 ml-auto mr-auto">
                            <img src="../assets/img/faces/ayo-ogunseinde-2.jpg" alt="Circle Image" class="img-circle img-no-padding img-responsive">
                          </div>
                          <div class="col-md-7 col-sm-4 ml-auto">
                            <h6>Ford
                              <br />
                              <small></small>
                            </h6>
                            <p>Modelo:Fiesta.</p>
                            <p>Cantidad de Plazas:4.</p>
                            <p>Patente: DVE 213.</p>
                            <p>Color:Blanco.</p>
                            <p>Tipo De Vehiculo: auto.</p>
                          </div>
                          <div class="col-md-3 col-sm-2 ml-auto mr-auto">
                            <div>
                              <button type="button" class="btn btn-pink">Editar </button>
                            </div>
                            <br>
                            <div>
                              <div>
                                <button type="button" class="btn btn-rellenopink">Borrar</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>

            <ngb-tab title="Mis Historial De Viajes">
              <ng-template ngbTabContent>
                <div class="row following" id="follows">
                  <div class="col-md-6 ml-auto mr-auto">
                    <ul class="list-unstyled follows">
                      <li>
                        <div class="row">
                          <div class="col-md-7 col-sm-4 ml-auto">
                            <h6>La Plata - Mar Del Plata
                              <br/>
                              <small></small>
                            </h6>
                            <p>fecha: 12/09/2017.</p>
                            <p>Hora De Partida: 15:30 hs.</p>
                            <p>Duración:5 hs.</p>
                            <p>Tipo de Viaje: Placer.</p>
                            <p>Costo Total:$ 359.</p>
                          </div>
                          <div class="col-md-3 col-sm-2 ml-auto mr-auto">
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="" checked="">
                                <span class="form-check-sign"></span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </li>
                      <hr />
                      <li>
                        <div class="row">
                          <div class="col-md-7 col-sm-4 ml-auto">
                            <h6>La Plata - City Bell
                              <br />
                              <small></small>
                            </h6>
                            <p>fecha: 15/02/2018.</p>
                            <p>Hora De Partida: 07:30 hs.</p>
                            <p>Duración:00:30 hs.</p>
                            <p>Tipo de Viaje: Diario.</p>
                            <p>Costo Total:$ 20.</p>
                          </div>
                          <div class="col-md-3 col-sm-2 ml-auto mr-auto">
                            <div class="form-check">
                              <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" value="" checked="">
                                <span class="form-check-sign"></span>
                              </label>
                            </div>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>
            <ngb-tab title="Mi reputación">
              <ng-template ngbTabContent>
                <div class="row following" id="follows">
                  <div class="col-md-6 ml-auto mr-auto">
                    <ul class="list-unstyled follows">
                      <li>
                        <div class="row">
                          <h6>Mi puntuación como Conductor:</h6>
                        </div>
                        <div class="row">
                          <h6>Mi puntuación como Acompañante:</h6>
                        </div>
                        <hr />
                        <div class="row">
                          <div class="col-md-2 col-sm-2 ml-auto mr-auto">
                            <img src="../assets/img/faces/clem-onojeghuo-2.jpg" alt="Circle Image" class="img-circle img-no-padding img-responsive">
                          </div>
                          <div class="col-md-7 col-sm-4 ml-auto">
                            <h6>Nombre de usuario
                              <br/>
                              <small></small>
                            </h6>
                            <p>Comentario:</p>
                            <p>Puntaje:</p>
                          </div>
                          <div class="col-md-3 col-sm-2 ml-auto mr-auto">
                            <h6>Puntaje como:</h6>
                            <p>Conductor</p>
                          </div>
                        </div>
                      </li>
                      <hr />
                      <li>
                        <div class="row">
                          <div class="col-md-2 col-sm-2 ml-auto mr-auto">
                            <img src="../assets/img/faces/clem-onojeghuo-2.jpg" alt="Circle Image" class="img-circle img-no-padding img-responsive">
                          </div>
                          <div class="col-md-7 col-sm-4 ml-auto">
                            <h6>Nombre de usuario
                              <br/>
                              <small></small>
                            </h6>
                            <p>Comentario:</p>
                            <p>Puntaje:</p>
                          </div>
                          <div class="col-md-3 col-sm-2 ml-auto mr-auto">
                            <h6>Puntaje como:</h6>
                            <p>Acompañante</p>
                          </div>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </ng-template>
            </ngb-tab>
          </ngb-tabset> -->
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #cargarFoto let-c="close" let-d="dismiss">
  <form class="contact100-form validate-form flex-sb flex-w" name="form" (ngSubmit)="f.form.valid && c('Close click')" #f="ngForm"
    novalidate>
    <div class="modal-header">
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p>Ingrese el URL de la foto</p>

      <div class="form-group" [ngClass]="{ 'has-danger': f.submitted && !urlFotoId.valid }">
        <input class="form-control" type="text" name="urlFoto" placeholder="Ingrese el url" [(ngModel)]="urlFoto" #urlFotoId="ngModel"
          required>
        <span class="focus-input100"></span>
      </div>

    </div>
    <div class="modal-footer">
      <button type="submit" class="btn btn-rosa" (click)="cambiarFoto()">Guardar foto</button>
      <button type="button" class="btn btn-default" (click)="c('Close click')">Cancelar</button>
    </div>
  </form>

</ng-template>