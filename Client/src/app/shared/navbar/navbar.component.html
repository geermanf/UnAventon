<nav class="navbar navbar-expand-lg fixed-top navbar-transparent" color-on-scroll="500">
    <div class="container">
        <div class="navbar-translate" style="flex-basis: 100%;">
            <a routerLink="/home" routerLinkActive="active">
                <img src="assets/img/logo.png" alt style="width:40px;" /> </a>
            <a class="navbar-brand" routerLink="/home" routerLinkActive="active">Un Aventon</a>
            <button class="navbar-toggler navbar-burger" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarTogglerDemo02"
                aria-expanded="false" aria-label="Toggle navigation" (click)="sidebarToggle()">
                <span class="navbar-toggler-bar"></span>
                <span class="navbar-toggler-bar"></span>
                <span class="navbar-toggler-bar"></span>
            </button>
        </div>
        <div class="collapse navbar-collapse" id="navbarToggler">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" routerLink="/home" routerLinkActive="active">
                        Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" routerLink="/sobreNosotros" routerLinkActive="active">
                        Sobre Nosotros
                    </a>
                </li>
                <li class="nav-item" *ngIf="!authGuard.isLogued();">
                    <a class="nav-link" (click)= "crearViaje()">
                        Crear Viaje
                    </a>
                </li>
                <li class="nav-item" *ngIf="!authGuard.isLogued();">
                    <a class="nav-link" routerLink="/registrarse" routerLinkActive="active">
                        Registrarse
                    </a>
                </li>
                <li class="nav-item" *ngIf="!authGuard.isLogued();">
                    <a class="nav-link" (click)="open()">
                        Iniciar Sesion
                    </a>
                </li>
                <li class="nav-item" *ngIf="authGuard.isLogued();">
                    <div class="dropdown" ngbDropdown>
                        <a aria-haspopup="true" class="nav-link dropdown-toggle" id="userDropdown" ngbDropdownToggle aria-expanded="false">
                            <i aria-hidden="true" class="nc-icon nc-single-02"></i>
                            <span id="nombreDeUsuario">{{usuario.nombre}}</span>
                        </a>
                        
                        <div aria-labelledby="userDropdown" class="dropdown-rosa dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                            <a class="dropdown-item" routerLink="/perfil" routerLinkActive="active">Ver perfil</a>
                            <a class="dropdown-item" routerLink="/editar" routerLinkActive="active">Editar perfil</a>
                            <a class="dropdown-item" routerLink="/editar" routerLinkActive="active"  [queryParams]="{tabId:'1'}">Cambiar Contraseña</a>
                            <a class="dropdown-item" routerLink="/perfil" routerLinkActive="active"  [queryParams]="{tabId:'3'}">Vehiculos</a>
                            <a class="dropdown-item" routerLink="/perfil" routerLinkActive="active" [queryParams]="{tabId:'4'}">Tarjetas</a>
                            <a class="dropdown-item" routerLink="/pendientes" routerLinkActive="active">Puntuaciones Pendientes</a>
                            <a class="dropdown-item" routerLink="/pendientes" routerLinkActive="active">Preguntas Pendientes</a>
                            <a class="dropdown-item" routerLink="/pendientes" routerLinkActive="active">Pagos Pendientes</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" (click)="logoutModal(CerrarSesionModal)">Cerrar sesion</a>
                            <!-- <a class="dropdown-item" (click)="eliminarCuentaModal(borrarCuentaModal)">Eliminar cuenta</a> -->

                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <app-alertas></app-alertas>
</nav>

<!-- MODALS -->

<ng-template #CerrarSesionModal let-c="close" let-d="dismiss">
        <div class="modal-header">
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <h4><strong>¿Deseas cerrar sesión?</strong></h4>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="logout();c('Close click')">Cerrar sesion</button>
            <button type="button" class="btn btn-rosa" (click)="c('Close click')">Cancelar</button>
        </div>
    </ng-template>

<app-regmodal></app-regmodal>